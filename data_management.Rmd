---
title: "Data Management"
output: html_document
---

Let's focus on the Tidyverse.  Tidyverse is a set of packages that work together within a common tidy-data framework.^[https://rviews.rstudio.com/2017/06/08/what-is-the-tidyverse/]  These packages modernize R and enable an efficient workflow.  Although this method is not the only way to use R, you may work for a long time before you need to explore beyond the tidyverse.  This tidy framework is great for learning R and being productive when using R.  Let's get started.

![](https://rviews.rstudio.com/post/2017-06-09-What-is-the-tidyverse_files/tidyverse1.png)

&nbsp; 

Load the libraries:  

```{r load-packages, message=FALSE, warning=FALSE}
library(tidyverse)
library(datasets)
```

&nbsp; 

> Note.  You must install a library-package before you load a library-package.  The above code chunk used the `library()` function to load the "*tidyverse*", and "*datasets*" packages.  You can install packages from the **Tools** menubar in the RStudio IDE.

## Data Set

- We'll use a derivative of the `mtcars` dataset.  
- Use the `?mtcars` to get the codebook.

## Load Data

RStudio has an on-board data loading wizard which uses the `readr()` package for data loading.  
See Menubar `File > Import Dataset`

<figure>![RStudio Environment Pane](images/import_data.png "Environment Pane")<figcaption>RStudio Environment Pane</figcaption></figure><br>

Using the Import wizard, you can generate (and excute) the code necessary to read in the `cars.csv` file.

```{r load-data, message=FALSE, warning=FALSE}
# readr::read_csv
# 'read_csv()' is part of the tidyverse 'readr' package.  'read_csv()' helpfully overrides the "base R" default readr package, which converts characters as factors.  https://cran.r-project.org/web/packages/readr/README.html

cars <- read_csv("data/cars.csv")
```

### Access onboard data

Now that you know how to load data from the file system, let's use some more interesting data.  The `dplyr` package has an onboard Star Wars dataset.  Let's use that.  We'll discus the `dplyr` package in the Data Wrangling module, next.

## View your data in a grid.

```{r eval=FALSE, include=FALSE}
View(starwars)
# Displays as a tab in the source-pane quadrant
# Does not dipsplay in an R Notebooks
```

### Other Data Loaders, a selective list

- `View()` is an exploratory convenience; it's not "reproducible" in the sense of generating a report or leaving a trail of your work.  One of the advantages is on-board clickable sorting

- Environment Pane has information about data objects


## Modern Data Frames: Tibbles

A tibble (tbl) is a "Table as data frame", a modern tidyverse table.

```{r Table-dataframe}
class(starwars) 
starwars
```

&nbsp;

## Data Structure

### Most Common Data Structures

- Vector
- Data Frame
- Tibble
- List
- Matrix

### Class

`class()` identifies the class of an object revealing the data structure or the data type.

```{r}
class(starwars)
```

### Glimpse into a data frame

`glimpse()` reveals the structure of an object

```{r}
glimpse(starwars)
```

&nbsp;

## Data Type

### Most Common Data Types

- character
- numeric

    - integer (e.g. `30L`, `as.integer(30)`)
    - double (approximation with floating points and multiple special values)
    
- logical (True or False)
- factor

### Class

```{r}
class(starwars$name)
class(starwars$height)
class(starwars$mass)
```


## Other Useful Functions

`tbl_vars` lists table variables (column headers) as a vector

```{r variables}
tbl_vars(starwars)
```

&nbsp;

### Older style 

`str()` identifies the data structure:  data frames, matrices, lists, etc.

```{r}
str(starwars)
```

